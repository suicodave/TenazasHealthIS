(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"7UCR":function(e,t,r){"use strict";r.r(t),r.d(t,"UserModule",function(){return _});var a=r("eJWM"),i=r("d1mw"),l=r("fXoL"),n=r("j+WJ"),o=r("Q4MQ"),c=r("KwcT"),m=r("uEYW"),b=r("Dh3D"),s=r("+0xr"),u=r("ofXK"),d=r("STbY"),f=r("TO6b"),p=r("bTqV"),U=r("NFeN");function V(e,t){1&e&&(l.Vb(0,"th",13),l.Cc(1,"Id"),l.Ub())}function h(e,t){if(1&e&&(l.Vb(0,"td",14),l.Cc(1),l.Ub()),2&e){const e=t.$implicit;l.Eb(1),l.Dc(null==e?null:e.id)}}function C(e,t){1&e&&(l.Vb(0,"th",15),l.Cc(1,"E-mail"),l.Ub())}function N(e,t){if(1&e&&(l.Vb(0,"td",14),l.Cc(1),l.Ub()),2&e){const e=t.$implicit;l.Eb(1),l.Dc(null==e?null:e.email)}}function g(e,t){1&e&&(l.Vb(0,"th",15),l.Cc(1,"First Name"),l.Ub())}function A(e,t){if(1&e&&(l.Vb(0,"td",14),l.Cc(1),l.Ub()),2&e){const e=t.$implicit;l.Eb(1),l.Dc(null==e?null:e.firstName)}}function v(e,t){1&e&&(l.Vb(0,"th",15),l.Cc(1,"Middle Name"),l.Ub())}function D(e,t){if(1&e&&(l.Vb(0,"td",14),l.Cc(1),l.Ub()),2&e){const e=t.$implicit;l.Eb(1),l.Dc(null==e?null:e.middleName)}}function w(e,t){1&e&&(l.Vb(0,"th",15),l.Cc(1,"Last Name"),l.Ub())}function y(e,t){if(1&e&&(l.Vb(0,"td",14),l.Cc(1),l.Ub()),2&e){const e=t.$implicit;l.Eb(1),l.Dc(null==e?null:e.lastName)}}function E(e,t){1&e&&(l.Vb(0,"th",15),l.Cc(1,"Role"),l.Ub())}function T(e,t){if(1&e&&(l.Vb(0,"td",14),l.Cc(1),l.Ub()),2&e){const e=t.$implicit;l.Eb(1),l.Dc(null==e?null:e.role.name)}}function q(e,t){1&e&&(l.Vb(0,"th",15),l.Cc(1,"Created At"),l.Ub())}function F(e,t){if(1&e&&(l.Vb(0,"td",14),l.Cc(1),l.hc(2,"date"),l.Ub()),2&e){const e=t.$implicit;l.Eb(1),l.Ec(" ",l.jc(2,1,null==e?null:e.createdAt.toDate(),"mediumDate")," ")}}function S(e,t){1&e&&l.Qb(0,"th",13)}function I(e,t){if(1&e&&(l.Vb(0,"button",20),l.Vb(1,"mat-icon"),l.Cc(2,"more_vert"),l.Ub(),l.Ub()),2&e){l.gc();const e=l.rc(4);l.mc("matMenuTriggerFor",e)}}function M(e,t){if(1&e&&(l.Vb(0,"td",14),l.Vb(1,"div",16),l.Ac(2,I,3,1,"button",17),l.Vb(3,"mat-menu",null,18),l.Vb(5,"button",19),l.Cc(6," Delete "),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&e){const e=t.$implicit,r=l.gc();l.Eb(2),l.mc("ngIf",r.isAdminRole),l.Eb(3),l.mc("id",e.id)}}let Q=(()=>{class e extends o.a{constructor(e){super(e),this.displayedColumns=["id","email","firstName","middleName","lastName","role","createdAt","options"]}}return e.\u0275fac=function(t){return new(t||e)(l.Pb(c.a))},e.\u0275cmp=l.Jb({type:e,selectors:[["app-user-table"]],features:[l.Bb],decls:26,vars:3,consts:[["orderByField","createdAt","orderByDirection","desc","matSort","",3,"columns","sort","readonly"],["matSort","matSort"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","firstName"],["matColumnDef","middleName"],["matColumnDef","lastName"],["matColumnDef","role"],["matColumnDef","createdAt"],["matColumnDef","options"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","mat-sort-header",""],[1,"flex","justify-end"],["mat-icon-button","","class","text-yellow-600",3,"matMenuTriggerFor",4,"ngIf"],["menu","matMenu"],["mat-menu-item","","appDeleteTrigger","",3,"id"],["mat-icon-button","",1,"text-yellow-600",3,"matMenuTriggerFor"]],template:function(e,t){if(1&e&&(l.Vb(0,"app-table",0,1),l.Tb(2,2),l.Ac(3,V,2,0,"th",3),l.Ac(4,h,2,1,"td",4),l.Sb(),l.Tb(5,5),l.Ac(6,C,2,0,"th",6),l.Ac(7,N,2,1,"td",4),l.Sb(),l.Tb(8,7),l.Ac(9,g,2,0,"th",6),l.Ac(10,A,2,1,"td",4),l.Sb(),l.Tb(11,8),l.Ac(12,v,2,0,"th",6),l.Ac(13,D,2,1,"td",4),l.Sb(),l.Tb(14,9),l.Ac(15,w,2,0,"th",6),l.Ac(16,y,2,1,"td",4),l.Sb(),l.Tb(17,10),l.Ac(18,E,2,0,"th",6),l.Ac(19,T,2,1,"td",4),l.Sb(),l.Tb(20,11),l.Ac(21,q,2,0,"th",6),l.Ac(22,F,3,4,"td",4),l.Sb(),l.Tb(23,12),l.Ac(24,S,1,0,"th",3),l.Ac(25,M,7,2,"td",4),l.Sb(),l.Ub()),2&e){const e=l.rc(1);l.mc("columns",t.displayedColumns)("sort",e)("readonly",!t.isAdminRole)}},directives:[m.a,b.a,s.c,s.e,s.b,s.d,s.a,b.b,u.l,d.a,d.b,f.a,p.b,d.d,U.a],pipes:[u.e],encapsulation:2}),e})(),x=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Jb({type:e,selectors:[["app-user-page"]],decls:5,vars:0,consts:[[1,"w-full","min-h-full","bg-gray-200"],[1,"flex","justify-center","items-center","mt-8"],[1,"w-4/5"]],template:function(e,t){1&e&&(l.Vb(0,"div",0),l.Qb(1,"app-toolbar"),l.Vb(2,"div",1),l.Vb(3,"div",2),l.Qb(4,"app-user-table"),l.Ub(),l.Ub(),l.Ub())},directives:[n.a,Q],encapsulation:2}),e})();var $=r("tyNb"),J=r("HUga"),O=r("mrSG"),P=r("quSY"),R=r("3Pt+"),j=r("UbJi"),B=r("I/3d"),k=r("aY+K"),G=r("kmnG"),K=r("qFsG"),W=r("d3UM"),Y=r("FKr1");function H(e,t){if(1&e&&(l.Vb(0,"mat-option",10),l.Cc(1),l.Ub()),2&e){const e=t.$implicit;l.mc("value",e),l.Eb(1),l.Ec(" ",e.name," ")}}let L=(()=>{class e{constructor(e,t,r){this.formBuilder=e,this.fireAuth=t,this.firestore=r,this.form=this.formBuilder.group({email:["",[R.r.required,R.r.email]],password:["",R.r.required],firstName:["",R.r.required],middleName:["",R.r.required],lastName:["",R.r.required],role:["",R.r.required]}),this.subscription=new P.a,this.roles=[]}ngOnDestroy(){this.subscription.unsubscribe()}ngOnInit(){this.getRoles()}createUserCredentials(e){const{password:t,email:r}=this.form.value;this.fireAuth.createUserWithEmailAndPassword(r,t).then(e=>{})}resolveFormValue(e){const t=e.value;return Object(O.f)(t,["password"])}getRoles(){this.subscription=this.firestore.collection(a.d,e=>e.orderBy("name","asc")).valueChanges({idField:"id"}).subscribe(e=>this.roles=e)}}return e.\u0275fac=function(t){return new(t||e)(l.Pb(R.d),l.Pb(j.a),l.Pb(B.a))},e.\u0275cmp=l.Jb({type:e,selectors:[["app-user-form"]],decls:27,vars:4,consts:[[3,"form","formGroup","formValue","added"],[1,"grid","grid-cols-3","gap-4"],[1,"w-full"],["matInput","","type","email","required","","formControlName","email"],["matInput","","type","password","required","","formControlName","password"],["matInput","","type","text","required","","formControlName","firstName"],["matInput","","type","text","required","","formControlName","middleName"],["matInput","","type","text","required","","formControlName","lastName"],["formControlName","role"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(l.Vb(0,"app-form",0),l.cc("added",function(e){return t.createUserCredentials(e)}),l.Vb(1,"div",1),l.Vb(2,"mat-form-field",2),l.Vb(3,"mat-label"),l.Cc(4,"Email"),l.Ub(),l.Qb(5,"input",3),l.Ub(),l.Vb(6,"mat-form-field",2),l.Vb(7,"mat-label"),l.Cc(8,"Default Password"),l.Ub(),l.Qb(9,"input",4),l.Ub(),l.Vb(10,"mat-form-field",2),l.Vb(11,"mat-label"),l.Cc(12,"First Name"),l.Ub(),l.Qb(13,"input",5),l.Ub(),l.Vb(14,"mat-form-field",2),l.Vb(15,"mat-label"),l.Cc(16,"Midlle Name"),l.Ub(),l.Qb(17,"input",6),l.Ub(),l.Vb(18,"mat-form-field",2),l.Vb(19,"mat-label"),l.Cc(20,"Last Name"),l.Ub(),l.Qb(21,"input",7),l.Ub(),l.Vb(22,"mat-form-field"),l.Vb(23,"mat-label"),l.Cc(24,"Role"),l.Ub(),l.Vb(25,"mat-select",8),l.Ac(26,H,2,2,"mat-option",9),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&e&&(l.mc("form",t.form)("formGroup",t.form)("formValue",t.resolveFormValue),l.Eb(26),l.mc("ngForOf",t.roles))},directives:[k.a,R.l,R.f,G.c,G.f,K.b,R.b,R.q,R.k,R.e,W.a,u.k,Y.m],encapsulation:2}),e})();const X=[{path:"",component:x}];let _=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.Nb({type:e}),e.\u0275inj=l.Mb({providers:[{provide:i.a,useValue:a.e},{provide:i.b,useValue:a.e},{provide:i.d,useValue:"User"},{provide:i.c,useValue:L}],imports:[[u.c,$.e.forChild(X),J.a,R.p]]}),e})()}}]);