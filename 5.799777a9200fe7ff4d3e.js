(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{ciQF:function(t,e,i){"use strict";i.r(e),i.d(e,"CheckUpTypeModule",function(){return F});var n=i("fXoL");const c=new n.r("collectionName"),o=new n.r("deleteHeader");var a=i("hctd"),s=i("tyNb"),r=i("ofXK"),l=i("3Pt+"),b=i("I/3d"),u=i("UbJi"),d=i("0IaG"),p=i("dNgK"),m=i("kmnG"),h=i("qFsG"),f=i("bTqV");let g=(()=>{class t{constructor(t,e,i,n,c,o){this.formBuilder=t,this.fireStore=e,this.auth=i,this.dialogRef=n,this.snackBar=c,this.collectionName=o,this.isSaving=!1,this.collectionRef=this.fireStore.collection(this.collectionName)}ngOnInit(){this.getCurrentUser(),this.initForm()}getCurrentUser(){this.auth.currentUser.then(t=>{this.userId=null==t?void 0:t.email})}initForm(){this.form=this.formBuilder.group({name:["",l.n.required]})}save(){const t=this.form.value;t.createdBy=this.userId,t.createdAt=new Date(Date.now()),this.isSaving=!0,this.collectionRef.add(t).then(t=>{this.dialogRef.close()}).catch(t=>{this.snackBar.open("Unable to save. Please try again!","Ok",{duration:3e3}),this.form.reset()}).finally(()=>{this.isSaving=!1})}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(l.c),n.Ob(b.a),n.Ob(u.a),n.Ob(d.g),n.Ob(p.a),n.Ob(c))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-check-up-type-form"]],decls:13,vars:2,consts:[[3,"formGroup","ngSubmit"],["mat-dialog-title","",1,"text-gray-600"],["appearance","outline",1,"w-full"],["matInput","","type","text","required","","formControlName","name"],["align","end"],["mat-button","","type","submit",1,"rounded-lg","text-white","bg-blue-500"],["mat-button","","mat-dialog-close","","type","button",1,"rounded-lg","text-gray-600",3,"disabled"]],template:function(t,e){1&t&&(n.Tb(0,"form",0),n.ac("ngSubmit",function(){return e.save()}),n.Tb(1,"h2",1),n.vc(2,"New Check-Up Type"),n.Sb(),n.Tb(3,"mat-dialog-content"),n.Tb(4,"mat-form-field",2),n.Tb(5,"mat-label"),n.vc(6,"Name"),n.Sb(),n.Pb(7,"input",3),n.Sb(),n.Sb(),n.Tb(8,"mat-dialog-actions",4),n.Tb(9,"button",5),n.vc(10," Save "),n.Sb(),n.Tb(11,"button",6),n.vc(12," Cancel "),n.Sb(),n.Sb(),n.Sb()),2&t&&(n.ic("formGroup",e.form),n.Db(11),n.ic("disabled",e.isSaving))},directives:[l.o,l.j,l.e,d.h,d.e,m.b,m.e,h.b,l.b,l.m,l.i,l.d,d.c,f.a,d.d],encapsulation:2}),t})();var v=i("Wp6s"),y=i("MutI"),S=i("f0Cb");let T=(()=>{class t{constructor(t,e,i,n,c){this.id=t,this.collectionName=e,this.displayName=i,this.dialogRef=n,this.fireStore=c,this.isDeleting=!1,this.collection=this.fireStore.collection(this.collectionName)}ngOnInit(){}delete(){this.isDeleting=!0,this.collection.doc(this.id).delete(),this.isDeleting=!1,this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(d.a),n.Ob(c),n.Ob(o),n.Ob(d.g),n.Ob(b.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-delete-dialog"]],decls:9,vars:3,consts:[[1,"text-xl","text-gray-600","mb-4"],["align","end"],["mat-button","","type","button",1,"rounded-lg","text-white","bg-blue-500",3,"disabled","click"],["mat-button","","mat-dialog-close","","type","button",1,"rounded-lg","text-gray-600"]],template:function(t,e){1&t&&(n.Tb(0,"p",0),n.vc(1),n.Sb(),n.Tb(2,"mat-dialog-content"),n.vc(3),n.Sb(),n.Tb(4,"mat-dialog-actions",1),n.Tb(5,"button",2),n.ac("click",function(){return e.delete()}),n.vc(6," Yes "),n.Sb(),n.Tb(7,"button",3),n.vc(8," No "),n.Sb(),n.Sb()),2&t&&(n.Db(1),n.wc(e.displayName),n.Db(2),n.xc(' Are you sure you want to delete "',e.id,'"? '),n.Db(2),n.ic("disabled",e.isDeleting))},directives:[d.e,d.c,f.a,d.d],encapsulation:2}),t})(),w=(()=>{class t{constructor(t,e){this.dialog=t,this.containerRef=e,this.id=null}openDeleteDialog(){this.dialog.open(T,{viewContainerRef:this.containerRef,data:this.id,minWidth:"356px"})}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(d.b),n.Ob(n.R))},t.\u0275dir=n.Jb({type:t,selectors:[["","appDeleteTrigger",""]],hostBindings:function(t,e){1&t&&n.ac("click",function(t){return e.openDeleteDialog(t)})},inputs:{id:"id"}}),t})();var D=i("NFeN");let O=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Ib({type:t,selectors:[["app-check-up-type-item"]],inputs:{item:"item"},decls:12,vars:7,consts:[[1,"grid","grid-cols-3","w-full","items-center"],[1,"my-1","text-base"],[1,"meta","place-self-center"],[1,"my-1","text-xs","text-gray-500"],["mat-icon-button","","appDeleteTrigger","",1,"place-self-end",3,"id"],[1,"text-gray-500"]],template:function(t,e){1&t&&(n.Tb(0,"div",0),n.Tb(1,"p",1),n.vc(2),n.Sb(),n.Tb(3,"div",2),n.Tb(4,"p",3),n.vc(5),n.ec(6,"date"),n.Sb(),n.Tb(7,"p",3),n.vc(8),n.Sb(),n.Sb(),n.Tb(9,"button",4),n.Tb(10,"mat-icon",5),n.vc(11," delete_outline "),n.Sb(),n.Sb(),n.Sb()),2&t&&(n.Db(2),n.wc(e.item.name),n.Db(3),n.xc(" ",n.fc(6,4,e.item.createdAt.toDate(),"medium")," "),n.Db(3),n.xc(" ",e.item.createdBy," "),n.Db(1),n.ic("id",e.item.id))},directives:[f.a,w,D.a],pipes:[r.d],encapsulation:2}),t})();function k(t,e){1&t&&n.Pb(0,"mat-divider")}function x(t,e){1&t&&n.Pb(0,"mat-divider")}function I(t,e){if(1&t&&(n.Rb(0),n.Tb(1,"div",6),n.Pb(2,"app-check-up-type-item",7),n.Sb(),n.uc(3,x,1,0,"mat-divider",4),n.Qb()),2&t){const t=e.$implicit,i=e.last;n.Db(2),n.ic("item",t),n.Db(1),n.ic("ngIf",!i)}}let N=(()=>{class t{constructor(t,e,i,n){this.dialog=t,this.containerRef=e,this.firestore=i,this.collectionName=n,this.items=[],this.collectionRef=this.firestore.collection(this.collectionName)}ngOnInit(){this.collectionRef.valueChanges({idField:"id"}).subscribe(t=>{this.items=t})}create(){this.dialog.open(g,{minWidth:"398px",viewContainerRef:this.containerRef})}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(d.b),n.Ob(n.R),n.Ob(b.a),n.Ob(c))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-check-up-type-list"]],decls:10,vars:2,consts:[[1,"flex","justify-between"],[1,"text-gray-600"],[1,"controls"],["mat-button","",1,"bg-blue-500","rounded-lg","text-white",3,"click"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"p-2"],[3,"item"]],template:function(t,e){1&t&&(n.Tb(0,"mat-card"),n.Tb(1,"div",0),n.Tb(2,"h1",1),n.vc(3,"Check-Up Types"),n.Sb(),n.Tb(4,"div",2),n.Tb(5,"button",3),n.ac("click",function(){return e.create()}),n.vc(6," Add Type "),n.Sb(),n.Sb(),n.Sb(),n.Tb(7,"mat-list"),n.uc(8,k,1,0,"mat-divider",4),n.uc(9,I,4,2,"ng-container",5),n.Sb(),n.Sb()),2&t&&(n.Db(8),n.ic("ngIf",e.items.length>0),n.Db(1),n.ic("ngForOf",e.items))},directives:[v.a,f.a,y.a,r.k,r.j,S.a,O],encapsulation:2}),t})(),R=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Ib({type:t,selectors:[["app-check-up-type-page"]],decls:3,vars:0,consts:[[1,"bg-gray-200","w-full","min-h-full","flex","justify-center","items-center"],[1,"w-2/5"]],template:function(t,e){1&t&&(n.Tb(0,"div",0),n.Tb(1,"div",1),n.Pb(2,"app-check-up-type-list"),n.Sb(),n.Sb())},directives:[N],encapsulation:2}),t})(),C=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.Mb({type:t}),t.\u0275inj=n.Lb({imports:[[r.b,a.a]]}),t})();const U=[{path:"",component:R}];let F=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.Mb({type:t}),t.\u0275inj=n.Lb({providers:[{provide:c,useValue:"CheckUpTypes"},{provide:o,useValue:"Check-Up Type"}],imports:[[r.b,s.c.forChild(U),a.a,l.l,b.b,C]]}),t})()}}]);